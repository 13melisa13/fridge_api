# Описание API S.Fridge

## Документация по API

### User API
#### Создание пользователя
- **Метод:**  `POST`
- **Endpoint:**  `/api/users`
- **Описание:**  Этот эндпоинт используется для создания нового пользователя.
- **Параметры запроса:**
  - `email` (обязательный) - адрес электронной почты пользователя.
  - `phoneNumber` (обязательный) - номер телефона пользователя.
  - `password` (обязательный) - пароль пользователя (хешированный).
  - `first_name` (обязательный) - имя пользователя.
  - `second_name` (обязательный) - фамилия пользователя.
  - `middle_name` - отчество пользователя (необязательное поле).
- **Пример запроса:**

```json

{
  "email": "example@email.com",
  "phoneNumber": "+1234567890",
  "password": "hashed_password",
  "first_name": "Иван",
  "second_name": "Иванов",
  "middle_name": "Иванович"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `201 Created`
  - **Пример ответа:**

```json

{
  "id": 1,
  "email": "example@email.com",
  "phoneNumber": "+1234567890",
  "first_name": "Иван",
  "second_name": "Иванов",
  "middle_name": "Иванович"
}
``` 
- **Ошибка при создании:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные пользователя"
}
```
#### Получение пользователя по ID
- **Метод:**  `GET`
- **Endpoint:**  `/api/users/{id}`
- **Описание:**  Этот эндпоинт используется для получения информации о пользователе по его ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор пользователя.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "email": "example@email.com",
  "phoneNumber": "+1234567890",
  "first_name": "Иван",
  "second_name": "Иванов",
  "middle_name": "Иванович"
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Пользователь не найден"
}
```
#### Обновление пользователя
- **Метод:**  `PUT`
- **Endpoint:**  `/api/users/{id}`
- **Описание:**  Этот эндпоинт используется для обновления информации о пользователе по его ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор пользователя.
  - `email` - новый адрес электронной почты пользователя.
  - `phoneNumber` - новый номер телефона пользователя.
  - `password` - новый пароль пользователя (хешированный).
  - `first_name` - новое имя пользователя.
  - `second_name` - новая фамилия пользователя.
  - `middle_name` - новое отчество пользователя.
- **Пример запроса:**

```json

{
  "email": "new_email@example.com",
  "phoneNumber": "+9876543210",
  "password": "new_hashed_password",
  "first_name": "Новое имя",
  "second_name": "Новая фамилия",
  "middle_name": "Новое отчество"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "email": "new_email@example.com",
  "phoneNumber": "+9876543210",
  "first_name": "Новое имя",
  "second_name": "Новая фамилия",
  "middle_name": "Новое отчество"
}
``` 
- **Ошибка при обновлении:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные пользователя"
}
```
#### Удаление пользователя
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/users/{id}`
- **Описание:**  Этот эндпоинт используется для удаления пользователя по его ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор пользователя.
- **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
- **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**
```json

{
  "error": "Пользователь не найден"
}
```
### Fridge API
#### Создание холодильника
- **Метод:**  `POST`
- **Endpoint:**  `/api/fridges`
- **Описание:**  Этот эндпоинт используется для создания нового холодильника.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор холодильника.
  - `name` (обязательный) - название холодильника.
- **Пример запроса:**

```json

{
  "id": 1,
  "name": "Холодильник №1"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `201 Created`
  - **Пример ответа:**

```json

{
  "id": 1,
  "name": "Холодильник №1"
}
``` 
- **Ошибка при создании:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные холодильника"
}
```
#### Получение холодильника по ID
- **Метод:**  `GET`
- **Endpoint:**  `/api/fridges/{id}`
- **Описание:**  Этот эндпоинт используется для получения информации о холодильнике по его ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор холодильника.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "name": "Холодильник №1"
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Холодильник не найден"
}
```
#### Обновление холодильника
- **Метод:**  `PUT`
- **Endpoint:**  `/api/fridges/{id}`
- **Описание:**  Этот эндпоинт используется для обновления информации о холодильнике по его ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор холодильника.
  - `name` - новое название холодильника.
- **Пример запроса:**

```json

{
  "name": "Новое название холодильника"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "name": "Новое название холодильника"
}
``` 
- **Ошибка при обновлении:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные холодильника"
}
```
#### Удаление холодильника
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/fridges/{id}`
- **Описание:**  Этот эндпоинт используется для удаления холодильника по его ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор холодильника.
- **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
- **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**
```json

{
  "error": "Холодильник не найден"
}
```
### User-Fridge Relationship API
#### Добавление холодильника пользователю
- **Метод:**  `POST`
- **Endpoint:**  `/api/user_has_fridge`
- **Описание:**  Этот эндпоинт используется для добавления холодильника к пользователю.
- **Параметры запроса:**
  - `user_id` (обязательный) - идентификатор пользователя.
  - `fridge_id` (обязательный) - идентификатор холодильника.
- **Пример запроса:**

```json

{
  "user_id": 1,
  "fridge_id": 2
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `201 Created`
  - **Пример ответа:**

```json

{
  "user_id": 1,
  "fridge_id": 2
}
``` 
- **Ошибка при создании:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные связи между пользователем и холодильником"
}
```
#### Удаление холодильника у пользователя
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/user_has_fridge/{user_id}/{fridge_id}`
- **Описание:**  Этот эндпоинт используется для удаления связи между пользователем и холодильником.
- **Параметры запроса:**
  - `user_id` (обязательный) - идентификатор пользователя.
  - `fridge_id` (обязательный) - идентификатор холодильника.
- **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
- **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Связь между пользователем и холодильником не найдена"
}
```
#### Получение холодильников пользователя
- **Метод:**  `GET`
- **Endpoint:**  `/api/user_has_fridge/user/{user_id}`
- **Описание:**  Этот эндпоинт используется для получения списка холодильников, принадлежащих определенному пользователю.
- **Параметры запроса:**
  - `user_id` (обязательный) - идентификатор пользователя.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "user_id": 1,
  "fridges": [
    {
      "fridge_id": 2,
      "fridge_name": "Холодильник №2"
    },
    {
      "fridge_id": 3,
      "fridge_name": "Холодильник №3"
    }
  ]
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Пользователь не найден или у него нет холодильников"
}
```
### Product Item API
#### Добавление продукта в холодильник
- **Метод:**  `POST`
- **Endpoint:**  `/api/product_items`
- **Описание:**  Этот эндпоинт используется для добавления нового продукта в холодильник.
- **Параметры запроса:**
  - `name` (обязательный) - название продукта.
  - `article_number` - артикул продукта (необязательное поле).
  - `expiry_date` - дата истечения срока годности продукта (необязательное поле).
  - `fridge_id` (обязательный) - идентификатор холодильника, в который добавляется продукт.
  - `proteins_amount` (обязательный) - количество белка в продукте.
  - `fats_amount` (обязательный) - количество жиров в продукте.
  - `carbohydrates_amount` (обязательный) - количество углеводов в продукте.
  - `calories_amount` (обязательный) - количество калорий в продукте.
  - `weight` (обязательный) - вес продукта в граммах.
- **Пример запроса:**

```json

{
  "name": "Молоко",
  "article_number": "12345",
  "expiry_date": "2023-12-31",
  "fridge_id": 1,
  "proteins_amount": 3,
  "fats_amount": 2,
  "carbohydrates_amount": 4,
  "calories_amount": 50,
  "weight": 1000
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `201 Created`
  - **Пример ответа:**

```json

{
  "id": 1,
  "name": "Молоко",
  "article_number": "12345",
  "expiry_date": "2023-12-31",
  "fridge_id": 1,
  "proteins_amount": 3,
  "fats_amount": 2,
  "carbohydrates_amount": 4,
  "calories_amount": 50,
  "weight": 1000
}
``` 
- **Ошибка при создании:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные продукта"
}
```
#### Получение продукта по ID
- **Метод:**  `GET`
- **Endpoint:**  `/api/product_items/{id}`
- **Описание:**  Этот эндпоинт используется для получения информации о продукте по его ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор продукта.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "name": "Молоко",
  "article_number": "12345",
  "expiry_date": "2023-12-31",
  "fridge_id": 1,
  "proteins_amount": 3,
  "fats_amount": 2,
  "carbohydrates_amount": 4,
  "calories_amount": 50,
  "weight": 1000
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Продукт не найден"
}
```
#### Обновление продукта
- **Метод:**  `PUT`
- **Endpoint:**  `/api/product_items/{id}`
- **Описание:**  Этот эндпоинт используется для обновления информации о продукте по его ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор продукта.
  - `name` - новое название продукта.
  - `article_number` - новый артикул продукта.
  - `expiry_date` - новая дата истечения срока годности продукта.
  - `proteins_amount` - новое количество белка в продукте.
  - `fats_amount` - новое количество жиров в продукте.
  - `carbohydrates_amount` - новое количество углеводов в продукте.
  - `calories_amount` - новое количество калорий в продукте.
  - `weight` - новый вес продукта в граммах.
- **Пример запроса:**

```json

{
  "name": "Новое молоко",
  "article_number": "54321",
  "expiry_date": "2024-12-31",
  "proteins_amount": 4,
  "fats_amount": 3,
  "carbohydrates_amount": 5,
  "calories_amount": 60,
  "weight": 800
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "name": "Новое молоко",
  "article_number": "54321",
  "expiry_date": "2024-12-31",
  "fridge_id": 1,
  "proteins_amount": 4,
  "fats_amount": 3,
  "carbohydrates_amount": 5,
  "calories_amount": 60,
  "weight": 800
}
``` 
- **Ошибка при обновлении:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные продукта"
}
```
#### Удаление продукта
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/product_items/{id}`
- **Описание:**  Этот эндпоинт используется для удаления продукта по его ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор продукта.
- **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
- **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Продукт не найден"
}
```
### Purchase API
#### Создание покупки
- **Метод:**  `POST`
- **Endpoint:**  `/api/purchases`
- **Описание:**  Этот эндпоинт используется для создания новой покупки.
- **Параметры запроса:**
  - `sum` (обязательный) - сумма покупки.
  - `date` (обязательный) - дата покупки.
- **Пример запроса:**

```json

{
  "sum": 1000,
  "date": "2023-09-30"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `201 Created`
  - **Пример ответа:**

```json

{
  "id": 1,
  "sum": 1000,
  "date": "2023-09-30"
}
``` 
- **Ошибка при создании:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные покупки"
}
```
#### Получение покупки по ID
- **Метод:**  `GET`
- **Endpoint:**  `/api/purchases/{id}`
- **Описание:**  Этот эндпоинт используется для получения информации о покупке по ее ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор покупки.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "sum": 1000,
  "date": "2023-09-30"
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Покупка не найдена"
}
```
#### Обновление покупки
- **Метод:**  `PUT`
- **Endpoint:**  `/api/purchases/{id}`
- **Описание:**  Этот эндпоинт используется для обновления информации о покупке по ее ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор покупки.
  - `sum` - новая сумма покупки.
  - `date` - новая дата покупки.
- **Пример запроса:**

```json

{
  "sum": 1200,
  "date": "2023-10-15"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "sum": 1200,
  "date": "2023-10-15"
}
``` 
- **Ошибка при обновлении:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные покупки"
}
```
#### Удаление покупки
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/purchases/{id}`
- **Описание:**  Этот эндпоинт используется для удаления покупки по ее ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор покупки.
- **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
- **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Покупка не найдена"
}
```
### Product Item - Purchase Relationship API
#### Добавление продукта к покупке
- **Метод:**  `POST`
- **Endpoint:**  `/api/product_item_has_purchase`
- **Описание:**  Этот эндпоинт используется для связывания продукта с покупкой.
- **Параметры запроса:**
  - `product_item_id` (обязательный) - идентификатор продукта.
  - `purchase_id` (обязательный) - идентификатор покупки.
- **Пример запроса:**

```json

{
  "product_item_id": 1,
  "purchase_id": 2
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `201 Created`
  - **Пример ответа:**

```json

{
  "product_item_id": 1,
  "purchase_id": 2
}
``` 
- **Ошибка при создании:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные связи между продуктом и покупкой"
}
```
#### Удаление продукта из покупки
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/product_item_has_purchase/{product_item_id}/{purchase_id}`
- **Описание:**  Этот эндпоинт используется для удаления связи между продуктом и покупкой.
- **Параметры запроса:**
  - `product_item_id` (обязательный) - идентификатор продукта.
  - `purchase_id` (обязательный) - идентификатор покупки.
- **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
- **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Связь между продуктом и покупкой не найдена"
}
```
#### Получение продуктов из покупки
- **Метод:**  `GET`
- **Endpoint:**  `/api/product_item_has_purchase/purchase/{purchase_id}`
- **Описание:**  Этот эндпоинт используется для получения списка продуктов, связанных с определенной покупкой.
- **Параметры запроса:**
  - `purchase_id` (обязательный) - идентификатор покупки.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "purchase_id": 2,
  "product_items": [
    {
      "product_item_id": 1,
      "product_item_name": "Молоко"
    },
    {
      "product_item_id": 3,
      "product_item_name": "Яйца"
    }
  ]
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Покупка не найдена или у нее нет продуктов"
}
```
### Recommendation API
#### Создание рекомендации
- **Метод:**  `POST`
- **Endpoint:**  `/api/recommendations`
- **Описание:**  Этот эндпоинт используется для создания новой рекомендации.
- **Параметры запроса:**
  - `name` (обязательный) - название рекомендации.
- **Пример запроса:**

```json

{
  "name": "Рекомендация 1"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `201 Created`
  - **Пример ответа:**

```json

{
  "id": 1,
  "name": "Рекомендация 1"
}
``` 
- **Ошибка при создании:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные рекомендации"
}
```
#### Получение рекомендации по ID
- **Метод:**  `GET`
- **Endpoint:**  `/api/recommendations/{id}`
- **Описание:**  Этот эндпоинт используется для получения информации о рекомендации по ее ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор рекомендации.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "name": "Рекомендация 1"
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Рекомендация не найдена"
}
```
#### Обновление рекомендации
- **Метод:**  `PUT`
- **Endpoint:**  `/api/recommendations/{id}`
- **Описание:**  Этот эндпоинт используется для обновления информации о рекомендации по ее ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор рекомендации.
  - `name` - новое название рекомендации.
- **Пример запроса:**

```json

{
  "name": "Новая рекомендация"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "name": "Новая рекомендация"
}
``` 
- **Ошибка при обновлении:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные рекомендации"
}
```
#### Удаление рекомендации
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/recommendations/{id}`
- **Описание:**  Этот эндпоинт используется для удаления рекомендации по ее ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор рекомендации.
- **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
- **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Рекомендация не найдена"
}
```
### Filter API
#### Создание фильтра
- **Метод:**  `POST`
- **Endpoint:**  `/api/filters`
- **Описание:**  Этот эндпоинт используется для создания нового фильтра.
- **Параметры запроса:**
  - `is_fast_food` - флаг быстрого питания (1 - да, 0 - нет).
  - `is_healthy_food` - флаг здоровой пищи (1 - да, 0 - нет).
  - `kitchen_type` - тип кухни (возможные значения: 'Русская', 'Корейская').
  - `calories_from` - минимальное количество калорий.
  - `calories_to` - максимальное количество калорий.
  - `year_time_menu` - время года в меню (возможные значения: 'Лето', 'Осень', 'Зима', 'Весна').
  - `is_use_only_available_products` - флаг использования только доступных продуктов (1 - да, 0 - нет).
  - `wished_dish_time` - время приема пищи (возможные значения: 'Завтрак', 'Обед', 'Ужин', 'Полдник').
  - `wished_dish_type` - тип блюда (возможные значения: 'Первое', 'Второе', 'Напиток', 'Десерт', 'Салат').
- **Пример запроса:**

```json

{
  "is_fast_food": 0,
  "is_healthy_food": 1,
  "kitchen_type": "Русская",
  "calories_from": 300,
  "calories_to": 500,
  "year_time_menu": "Зима",
  "is_use_only_available_products": 1,
  "wished_dish_time": "Обед",
  "wished_dish_type": "Второе"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `201 Created`
  - **Пример ответа:**

```json

{
  "id": 1,
  "is_fast_food": 0,
  "is_healthy_food": 1,
  "kitchen_type": "Русская",
  "calories_from": 300,
  "calories_to": 500,
  "year_time_menu": "Зима",
  "is_use_only_available_products": 1,
  "wished_dish_time": "Обед",
  "wished_dish_type": "Второе"
}
``` 
- **Ошибка при создании:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные фильтра"
}
```
#### Получение фильтра по ID
- **Метод:**  `GET`
- **Endpoint:**  `/api/filters/{id}`
- **Описание:**  Этот эндпоинт используется для получения информации о фильтре по его ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор фильтра.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "is_fast_food": 0,
  "is_healthy_food": 1,
  "kitchen_type": "Русская",
  "calories_from": 300,
  "calories_to": 500,
  "year_time_menu": "Зима",
  "is_use_only_available_products": 1,
  "wished_dish_time": "Обед",
  "wished_dish_type": "Второе"
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Фильтр не найден"
}
```
#### Обновление фильтра
- **Метод:**  `PUT`
- **Endpoint:**  `/api/filters/{id}`
- **Описание:**  Этот эндпоинт используется для обновления информации о фильтре по его ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор фильтра.
  - `is_fast_food` - новое значение флага быстрого питания (1 - да, 0 - нет).
  - `is_healthy_food` - новое значение флага здоровой пищи (1 - да, 0 - нет).
  - `kitchen_type` - новый тип кухни (возможные значения: 'Русская', 'Корейская').
  - `calories_from` - новое минимальное количество калорий.
  - `calories_to` - новое максимальное количество калорий.
  - `year_time_menu` - новое время года в меню (возможные значения: 'Лето', 'Осень', 'Зима', 'Весна').
  - `is_use_only_available_products` - новое значение флага использования только доступных продуктов (1 - да, 0 - нет).
  - `wished_dish_time` - новое время приема пищи (возможные значения: 'Завтрак', 'Обед', 'Ужин', 'Полдник').
  - `wished_dish_type` - новый тип блюда (возможные значения: 'Первое', 'Второе', 'Напиток', 'Десерт', 'Салат').
- **Пример запроса:**

```json

{
  "is_fast_food": 1,
  "kitchen_type": "Корейская",
  "calories_from": 400,
  "calories_to": 700,
  "year_time_menu": "Лето",
  "wished_dish_time": "Завтрак"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "is_fast_food": 1,
  "is_healthy_food": 1,
  "kitchen_type": "Корейская",
  "calories_from": 400,
  "calories_to": 700,
  "year_time_menu": "Лето",
  "is_use_only_available_products": 1,
  "wished_dish_time": "Завтрак",
  "wished_dish_type": "Второе"
}
``` 
- **Ошибка при обновлении:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные фильтра"
}
```
#### Удаление фильтра
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/filters/{id}`
- **Описание:**  Этот эндпоинт используется для удаления фильтра по его ID.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор фильтра.
- **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
- **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Фильтр не найден"
}
```
### Recommendation - Filter Relationship API
#### Добавление фильтра к рекомендации
- **Метод:**  `POST`
- **Endpoint:**  `/api/recommendation_has_filter`
- **Описание:**  Этот эндпоинт используется для связывания фильтра с рекомендацией.
- **Параметры запроса:**
  - `recommendation_id` (обязательный) - идентификатор рекомендации.
  - `filter_id` (обязательный) - идентификатор фильтра.
- **Пример запроса:**

```json

{
  "recommendation_id": 1,
  "filter_id": 2
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `201 Created`
  - **Пример ответа:**

```json

{
  "recommendation_id": 1,
  "filter_id": 2
}
``` 
- **Ошибка при создании:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные связи между рекомендацией и фильтром"
}
```
#### Удаление фильтра из рекомендации
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/recommendation_has_filter/{recommendation_id}/{filter_id}`
- **Описание:**  Этот эндпоинт используется для удаления связи между рекомендацией и фильтром.
- **Параметры запроса:**
  - `recommendation_id` (обязательный) - идентификатор рекомендации.
  - `filter_id` (обязательный) - идентификатор фильтра.
- **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
- **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Связь между рекомендацией и фильтром не найдена"
}
```
#### Получение фильтров для рекомендации
- **Метод:**  `GET`
- **Endpoint:**  `/api/recommendation_has_filter/recommendation/{recommendation_id}`
- **Описание:**  Этот эндпоинт используется для получения списка фильтров, связанных с определенной рекомендацией.
- **Параметры запроса:**
  - `recommendation_id` (обязательный) - идентификатор рекомендации.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "recommendation_id": 1,
  "filters": [
    {
      "filter_id": 2,
      "filter_name": "Фильтр 2"
    },
    {
      "filter_id": 3,
      "filter_name": "Фильтр 3"
    }
  ]
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**
  
```json

{
  "error": "Рекомендация не найдена или у нее нет фильтров"
}
```
### Disease API
#### Создание болезни
- **Метод:**  `POST`
- **Endpoint:**  `/api/diseases`
- **Описание:**  Этот эндпоинт используется для создания новой болезни.
- **Параметры запроса:**
  - `filter_id` (обязательный) - идентификатор фильтра, связанного с болезнью.
  - `product_item_id` (обязательный) - идентификатор продукта, связанного с болезнью.
  - `name` (обязательный) - название болезни.
- **Пример запроса:**

```json

{
  "filter_id": 1,
  "product_item_id": 2,
  "name": "Болезнь 1"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `201 Created`
  - **Пример ответа:**

```json

{
  "filter_id": 1,
  "product_item_id": 2,
  "name": "Болезнь 1"
}
``` 
- **Ошибка при создании:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные болезни"
}
```
#### Получение болезни по Filter ID и Product Item ID
- **Метод:**  `GET`
- **Endpoint:**  `/api/diseases/{filter_id}/{product_item_id}`
- **Описание:**  Этот эндпоинт используется для получения информации о болезни по идентификаторам фильтра и продукта.
- **Параметры запроса:**
  - `filter_id` (обязательный) - идентификатор фильтра, связанного с болезнью.
  - `product_item_id` (обязательный) - идентификатор продукта, связанного с болезнью.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "filter_id": 1,
  "product_item_id": 2,
  "name": "Болезнь 1"
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Болезнь не найдена"
}
```
#### Обновление болезни
- **Метод:**  `PUT`
- **Endpoint:**  `/api/diseases/{filter_id}/{product_item_id}`
- **Описание:**  Этот эндпоинт используется для обновления информации о болезни по идентификаторам фильтра и продукта.
- **Параметры запроса:**
  - `filter_id` (обязательный) - идентификатор фильтра, связанного с болезнью.
  - `product_item_id` (обязательный) - идентификатор продукта, связанного с болезнью.
  - `name` - новое название болезни.
- **Пример запроса:**

```json

{
  "name": "Новая болезнь"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "filter_id": 1,
  "product_item_id": 2,
  "name": "Новая болезнь"
}
``` 
- **Ошибка при обновлении:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные болезни"
}
```
#### Удаление болезни
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/diseases/{filter_id}/{product_item_id}`
- **Описание:**  Этот эндпоинт используется для удаления болезни по идентификаторам фильтра и продукта.
- **Параметры запроса:**
  - `filter_id` (обязательный) - идентификатор фильтра, связанного с болезнью.
  - `product_item_id` (обязательный) - идентификатор продукта, связанного с болезнью.
- **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
- **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Болезнь не найдена"
}
```
### Allergens API
#### Добавление аллергена
- **Метод:**  `POST`
- **Endpoint:**  `/api/allergens`
- **Описание:**  Этот эндпоинт используется для добавления нового аллергена.
- **Параметры запроса:**
  - `filter_id` (обязательный) - идентификатор фильтра, связанного с аллергеном.
  - `product_item_id` (обязательный) - идентификатор продукта, связанного с аллергеном.
- **Пример запроса:**

```json

{
  "filter_id": 1,
  "product_item_id": 2
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `201 Created`
  - **Пример ответа:**

```json

{
  "filter_id": 1,
  "product_item_id": 2
}
``` 
- **Ошибка при создании:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные аллергена"
}
```
#### Получение аллергена по Filter ID и Product Item ID
- **Метод:**  `GET`
- **Endpoint:**  `/api/allergens/{filter_id}/{product_item_id}`
- **Описание:**  Этот эндпоинт используется для получения информации об аллергене по идентификаторам фильтра и продукта.
- **Параметры запроса:**
  - `filter_id` (обязательный) - идентификатор фильтра, связанного с аллергеном.
  - `product_item_id` (обязательный) - идентификатор продукта, связанного с аллергеном.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "filter_id": 1,
  "product_item_id": 2
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Аллерген не найден"
}
```
#### Удаление аллергена
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/allergens/{filter_id}/{product_item_id}`
- **Описание:**  Этот эндпоинт используется для удаления аллергена по идентификаторам фильтра и продукта.
- **Параметры запроса:**
  - `filter_id` (обязательный) - идентификатор фильтра, связанного с аллергеном.
  - `product_item_id` (обязательный) - идентификатор продукта, связанного с аллергеном.
- **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
- **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Аллерген не найден"
}
```
### Wished Products API
#### Добавление желаемого продукта
- **Метод:**  `POST`
- **Endpoint:**  `/api/wished_products`
- **Описание:**  Этот эндпоинт используется для добавления желаемого продукта.
- **Параметры запроса:**
  - `product_item_id` (обязательный) - идентификатор продукта, который пользователь желает.
  - `filter_id` (обязательный) - идентификатор фильтра, связанного с желаемым продуктом.
- **Пример запроса:**

```json

{
  "product_item_id": 1,
  "filter_id": 2
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `201 Created`
  - **Пример ответа:**

```json

{
  "product_item_id": 1,
  "filter_id": 2
}
``` 
- **Ошибка при создании:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные желаемого продукта"
}
```
#### Получение желаемого продукта по Product Item ID
- **Метод:**  `GET`
- **Endpoint:**  `/api/wished_products/product_item/{product_item_id}`
- **Описание:**  Этот эндпоинт используется для получения информации о желаемом продукте по идентификатору продукта.
- **Параметры запроса:**
  - `product_item_id` (обязательный) - идентификатор продукта.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "product_item_id": 1,
  "filter_id": 2
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Желаемый продукт не найден"
}
```
#### Удаление желаемого продукта
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/wished_products/{product_item_id}`
- **Описание:**  Этот эндпоинт используется для удаления желаемого продукта по идентификатору продукта.
- **Параметры запроса:**
  - `product_item_id` (обязательный) - идентификатор продукта.
- **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
- **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Желаемый продукт не найден"
}
```
### Dish API
#### Создание блюда
- **Метод:**  `POST`
- **Endpoint:**  `/api/dishes`
- **Описание:**  Этот эндпоинт используется для создания нового блюда.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор блюда.
  - `weight` (обязательный) - вес блюда.
  - `plan_on_day_id` (обязательный) - идентификатор плана на день, к которому относится блюдо.
  - `receipt` - текстовое описание рецепта блюда (может быть null).
- **Пример запроса:**

```json

{
  "id": 1,
  "weight": 200,
  "plan_on_day_id": 2,
  "receipt": "Текст рецепта блюда"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `201 Created`
  - **Пример ответа:**

```json

{
  "id": 1,
  "weight": 200,
  "plan_on_day_id": 2,
  "receipt": "Текст рецепта блюда"
}
``` 
- **Ошибка при создании:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные блюда"
}
```
#### Получение блюда по ID
- **Метод:**  `GET`
- **Endpoint:**  `/api/dishes/{id}`
- **Описание:**  Этот эндпоинт используется для получения информации о блюде по его идентификатору.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор блюда.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "weight": 200,
  "plan_on_day_id": 2,
  "receipt": "Текст рецепта блюда"
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Блюдо не найдено"
}
```
#### Обновление блюда
- **Метод:**  `PUT`
- **Endpoint:**  `/api/dishes/{id}`
- **Описание:**  Этот эндпоинт используется для обновления информации о блюде по его идентификатору.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор блюда.
  - `weight` - новый вес блюда.
  - `plan_on_day_id` - новый идентификатор плана на день.
  - `receipt` - новое текстовое описание рецепта блюда (может быть null).
- **Пример запроса:**

```json

{
  "weight": 250,
  "receipt": "Новый текст рецепта"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "weight": 250,
  "plan_on_day_id": 2,
  "receipt": "Новый текст рецепта"
}
``` 
- **Ошибка при обновлении:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные блюда"
}
```
#### Удаление блюда
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/dishes/{id}`
- **Описание:**  Этот эндпоинт используется для удаления блюда по его идентификатору.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор блюда.
  - **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
  - **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
- **Пример ответа:**

```json

{
  "error": "Блюдо не найдено"
}
```

- Вот описание API для таблицы `product_item_has_dish`:
### Product Item Has Dish API
#### Привязка продукта к блюду
- **Метод:**  `POST`
- **Endpoint:**  `/api/product_item_has_dish`
- **Описание:**  Этот эндпоинт используется для привязки продукта к блюду.
- **Параметры запроса:**
  - `product_item_id` (обязательный) - идентификатор продукта.
  - `dish_id` (обязательный) - идентификатор блюда.
- **Пример запроса:**

```json

{
  "product_item_id": 1,
  "dish_id": 2
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `201 Created`
  - **Пример ответа:**

```json

{
  "product_item_id": 1,
  "dish_id": 2
}
``` 
- **Ошибка при создании:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные привязки продукта к блюду"
}
```
#### Получение привязки продукта к блюду
- **Метод:**  `GET`
- **Endpoint:**  `/api/product_item_has_dish/{product_item_id}/{dish_id}`
- **Описание:**  Этот эндпоинт используется для получения информации о привязке продукта к блюду по идентификаторам продукта и блюда.
- **Параметры запроса:**
  - `product_item_id` (обязательный) - идентификатор продукта.
  - `dish_id` (обязательный) - идентификатор блюда.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "product_item_id": 1,
  "dish_id": 2
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Привязка продукта к блюду не найдена"
}
```
#### Удаление привязки продукта к блюду
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/product_item_has_dish/{product_item_id}/{dish_id}`
- **Описание:**  Этот эндпоинт используется для удаления привязки продукта к блюду по идентификаторам продукта и блюда.
- **Параметры запроса:**
  - `product_item_id` (обязательный) - идентификатор продукта.
  - `dish_id` (обязательный) - идентификатор блюда.
- **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
- **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "Привязка продукта к блюду не найдена"
}
```
### Plan on Day API
#### Создание плана на день
- **Метод:**  `POST`
- **Endpoint:**  `/api/plans_on_day`
- **Описание:**  Этот эндпоинт используется для создания нового плана на день.
- **Параметры запроса:**
- `id` (обязательный) - идентификатор плана на день.
- `date` (обязательный) - дата плана на день.
- `user_id` (обязательный) - идентификатор пользователя, к которому относится план на день.
- **Пример запроса:**

```json

{
  "id": 1,
  "date": "2023-10-01",
  "user_id": 2
}
``` 
- **Успешный ответ:**
- **HTTP код:**  `201 Created`
- **Пример ответа:**

```json

{
  "id": 1,
  "date": "2023-10-01",
  "user_id": 2
}
``` 
- **Ошибка при создании:**
- **HTTP код:**  `400 Bad Request`
- **Пример ответа:**

```json

{
  "error": "Неверные данные плана на день"
}
```
#### Получение плана на день по ID
- **Метод:**  `GET`
- **Endpoint:**  `/api/plans_on_day/{id}`
- **Описание:**  Этот эндпоинт используется для получения информации о плане на день по его идентификатору.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор плана на день.
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "date": "2023-10-01",
  "user_id": 2
}
``` 
- **Ошибка при запросе:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "План на день не найден"
}
```
#### Обновление плана на день
- **Метод:**  `PUT`
- **Endpoint:**  `/api/plans_on_day/{id}`
- **Описание:**  Этот эндпоинт используется для обновления информации о плане на день по его идентификатору.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор плана на день.
  - `date` - новая дата плана на день.
  - `user_id` - новый идентификатор пользователя, к которому относится план на день.
- **Пример запроса:**

```json

{
  "date": "2023-10-02"
}
``` 
- **Успешный ответ:**
  - **HTTP код:**  `200 OK`
  - **Пример ответа:**

```json

{
  "id": 1,
  "date": "2023-10-02",
  "user_id": 2
}
``` 
- **Ошибка при обновлении:**
  - **HTTP код:**  `400 Bad Request`
  - **Пример ответа:**

```json

{
  "error": "Неверные данные плана на день"
}
```
#### Удаление плана на день
- **Метод:**  `DELETE`
- **Endpoint:**  `/api/plans_on_day/{id}`
- **Описание:**  Этот эндпоинт используется для удаления плана на день по его идентификатору.
- **Параметры запроса:**
  - `id` (обязательный) - идентификатор плана на день.
- **Успешный ответ:**
  - **HTTP код:**  `204 No Content`
- **Ошибка при удалении:**
  - **HTTP код:**  `404 Not Found`
  - **Пример ответа:**

```json

{
  "error": "План на день не найден"
}
```